!function(t){"use strict";t(document).ready(function(){t(document).on("click","#yz-add-custom-widget",function(e){e.preventDefault();var i=t(".yz-custom-widget-name span"),a=t("#yz-custom-widgets-form"),d="yz_custom_widgets[yz_custom_widget_"+yz_nextCustomWidget+"]",n=t.yz_getAddData(a,"yz_widget"),o={value:n.name,form:a,selector:i,type:"text"};if(!t.validate_widgets_data(o))return!1;t("#yz_custom_widgets").prepend('<li class="yz-custom-widget-item" data-widget-name="yz_custom_widget_'+yz_nextCustomWidget+'"><h2 class="yz-custom-widget-name"><i class="fa yz-custom-widget-icon fa-'+n.icon+'" aria-hidden="true"></i><span>'+n.name+'</span></h2><input type="hidden" name="'+d+'[icon]" value="'+n.icon+'" ><input type="hidden" name="'+d+'[name]" value="'+n.name+'" ><input type="hidden" name="'+d+'[content]" value="'+encodeURIComponent(n.content)+'" ><input type="hidden" name="'+d+'[display_title]" value="'+n.display_title+'" ><input type="hidden" name="'+d+'[display_padding]" value="'+n.display_padding+'" ><a class="yz-edit-item yz-edit-custom-widget"></a><a class="yz-delete-item yz-delete-custom-widget"></a></li>'),t.yz_HideModal(a),yz_nextCustomWidget++}),t(document).on("click",".yz-edit-custom-widget",function(e){var i=t(this).closest(".yz-custom-widget-item"),a=t("#yz-custom-widgets-form");t.yz_EditForm({button_id:"yz-update-custom-widget",form_title:yz.update_widget,form:a,item:i})}),t(document).on("click","#yz-update-custom-widget",function(e){e.preventDefault();var i=".yz-custom-widget-name span",a=t("#yz-custom-widgets-form"),d=t.yz_getItemObject(a),n=t.yz_getNewData(a,"keyToVal"),o={old_title:d.find(i).text(),value:n.name,form:a,selector:t(i),type:"text"};if(!t.validate_widgets_data(o))return!1;t.yz_updateFieldsData(a)}),t.validate_widgets_data=function(e){var i=t.extend({},e);if(t.isDataEmpty(i.form))return!1;return!t.yz_isAlreadyExist({old_title:i.old_title,selector:i.selector,value:i.value,type:"text"})||(t.ShowPanelMessage({msg:yz.name_exist,type:"error"}),!1)}})}(jQuery);