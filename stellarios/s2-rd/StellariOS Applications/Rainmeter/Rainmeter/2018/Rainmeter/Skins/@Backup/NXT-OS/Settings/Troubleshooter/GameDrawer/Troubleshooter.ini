[Rainmeter]
@include=#@#Framework\Window.Framework

[Metadata]
Name=GameDrawer Troubleshooter
Author=mrsalogo
Information=Rebuilds GameDrawer's Data Directory
Version=1.0
License=CC BY-NC-SA 4.0

[Variables]
Window.Title=GameDrawer Troubleshooter
Window.Width=704
Window.Height=463
Window.CenterOnLoad=1
Progress=0

[Logo]
Meter=Image
ImageName=#@#Images\GameDrawerLogo.png
ImageTint=80,80,80
PreserveAspectRatio=1
AntiAlias=1
W=128
X=((#Window.Width#-128)/2)
Y=10r

[IntroText]
Meter=String
MeterStyle=Window.BodyTextStyle
Text=This troubleshooter will assist you by rebuilding GameDrawer's data files in the event that they were not generated correctly and/or they have been corrupted.#CRLF##CRLF#Please note that this WILL delete any stored banners that you have added to the NXT-OS GameDrawer directory. Should you want to keep any banners you have manually added, please make a backup before continuing. Banners for Steam games will be re-downloaded, but no other settings will be lost.
StringAlign=CenterTop
ClipString=1
H=170
W=600
X=(#Window.Width#/2)
Y=215
Group=Page1

[NextPage1]
Meter=Image
MeterStyle=Window.Element.Button
X=(#Window.Width#-178)
Y=(#Window.Height#-74)
Group=Page1
LeftMouseUpAction=["#CURRENTPATH#\Resources\CMD\Run.vbs" "#SKINSPATH#" "#PROGRAMPATH#rainmeter.exe" "#SKINSPATH#NXT-OS\GameDrawer\GameDrawer.ini"][!HideMeterGroup "Page1"][!ShowMeterGroup "Page2"][!Redraw]

[NextPage1Text]
Meter=String
MeterStyle=Window.Element.Button.Text
Text=Next
Group=Page1

[PleaseWait]
Meter=String
MeterStyle=Window.BodyTextStyle
Text=Please wait while the Troubleshooter repairs the GameDrawer directory.#CRLF#Please note that it is common for Rainmeter to crash when this tool is finished. Simply restart Rainmeter in that event and do not run this utility again.
StringAlign=CenterTop
ClipString=1
H=80
W=600
X=(#Window.Width#/2)
Y=215
Hidden=1
Group=Page2

[ProgressCalc]
Measure=Calc
Formula=((#Progress#/14)*(#Window.Width#-76))
DynamicVariables=1

[ProgressBackground]
Meter=Image
MeterStyle=Window.Element.Progressbar.Background
W=(#Window.Width#-76)
X=38
Y=15R
DynamicVariables=1
Hidden=1
Group=Page2

[Progress]
Meter=Image
MeterStyle=Window.Element.Progressbar
W=([ProgressCalc])
DynamicVariables=1
Hidden=1
Group=Page2

[Status]
Meter=String
MeterStyle=Window.BodyTextStyle
Text=Running...
X=r
Y=10R
Hidden=1
Group=Page2


[Finish]
Meter=Image
MeterStyle=Window.Element.Button
X=(#Window.Width#-178)
Y=(#Window.Height#-74)
LeftMouseUpAction=[!DeactivateConfig]
Group=Finish
Hidden=1

[FinishText]
Meter=String
MeterStyle=Window.Element.Button.Text
Text=Finish
Group=Finish
Hidden=1